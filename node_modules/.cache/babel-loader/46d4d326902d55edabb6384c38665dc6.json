{"ast":null,"code":"var _jsxFileName = \"/Users/wenping/git_repo/Jian-shu/jianshu/src/common/header/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem, Addition, Button, SearchWrapper } from './style';\n\nclass Header extends Component {\n  getListArea() {\n    const {\n      focused,\n      list,\n      page,\n      handleMouseEnter,\n      handleMouseLeave\n    } = this.props; //结构赋值语法，替代下面的 this.props.focused 为focused；this.props.list为list\n\n    const newList = list.toJS(); //把immutable的list转成普通数组，这样才能取得第[i]个数\n\n    const pageList = [];\n\n    for (let i = (page - 1) * 10; i < page * 10; i++) {\n      pageList.push( /*#__PURE__*/React.createElement(SearchInfoItem, {\n        key: newList[i],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 9\n        }\n      }, newList[i]));\n    }\n\n    if (focused) {\n      return /*#__PURE__*/React.createElement(SearchInfo, {\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SearchInfoTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      }, \"\\u70ED\\u95E8\\u641C\\u7D22\", /*#__PURE__*/React.createElement(SearchInfoSwitch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, \"\\u6362\\u4E00\\u6279\")), /*#__PURE__*/React.createElement(SearchInfoList, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, pageList));\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      focused,\n      handleInputFocus,\n      handleInputBlur\n    } = this.props;\n    return /*#__PURE__*/React.createElement(HeaderWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, \"\\u4E0B\\u8F7DAPP\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"\\uE636\")), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"\\u767B\\u5F55\"), /*#__PURE__*/React.createElement(SearchWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 200,\n      classNames: \"slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavSearch, {\n      className: focused ? 'focused' : '',\n      onFocus: handleInputFocus,\n      onBlur: handleInputBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"i\", {\n      className: focused ? 'focused iconfont' : 'iconfont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"\\uE637\"), this.getListArea())), /*#__PURE__*/React.createElement(Addition, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"writing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"\\uE6E5\"), \"\\u5199\\u6587\\u7AE0\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.getIn(['header', 'focused']),\n    //从header的store-reudcer里取；immutable用get\n    //focused: state.get('header').get('focused') \n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page'])\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleInputFocus() {\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleInputBlur() {\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/wenping/git_repo/Jian-shu/jianshu/src/common/header/index.js"],"names":["React","Component","connect","CSSTransition","actionCreators","HeaderWrapper","Logo","Nav","NavItem","NavSearch","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoList","SearchInfoItem","Addition","Button","SearchWrapper","Header","getListArea","focused","list","page","handleMouseEnter","handleMouseLeave","props","newList","toJS","pageList","i","push","render","handleInputFocus","handleInputBlur","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","getList","searchFocus","searchBlur","mouseEnter"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport {actionCreators} from './store'\nimport {\n  HeaderWrapper,\n  Logo,\n  Nav,\n  NavItem,\n  NavSearch,\n  SearchInfo,\n  SearchInfoTitle,\n  SearchInfoSwitch,\n  SearchInfoList,\n  SearchInfoItem,\n  Addition,\n  Button,\n  SearchWrapper\n} from './style'\n\n\n\nclass Header extends Component {\n  getListArea(){\n    const { focused, list, page, handleMouseEnter, handleMouseLeave } = this.props; //结构赋值语法，替代下面的 this.props.focused 为focused；this.props.list为list\n    const newList = list.toJS();  //把immutable的list转成普通数组，这样才能取得第[i]个数\n    const pageList = [];\n\n    for (let i = (page - 1) * 10; i < page * 10; i++) {\n      pageList.push(\n        <SearchInfoItem key={newList[i]}>{newList[i]}</SearchInfoItem>\n      )\n    }\n    if (focused) {\n      return(\n        <SearchInfo \n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n        >\n          <SearchInfoTitle>\n            热门搜索\n            <SearchInfoSwitch>换一批</SearchInfoSwitch>\n          </SearchInfoTitle>\n          <SearchInfoList>\n            {pageList}\n          </SearchInfoList>\n        </SearchInfo>\n      )\n    } else {\n      return null;\n    }\n  }\n  render(){\n    const { focused,handleInputFocus,handleInputBlur  } = this.props;\n    return (\n      <HeaderWrapper>\n        <Logo />\n        <Nav>\n          <NavItem className=\"left active\">首页</NavItem>\n          <NavItem className=\"left\">下载APP</NavItem>\n          <NavItem className=\"right\">\n            <i className=\"iconfont\">&#xe636;</i>\n          </NavItem>\n          <NavItem className=\"right\">登录</NavItem>\n          <SearchWrapper>\n            <CSSTransition\n              in={focused}\n              timeout={200}\n              classNames=\"slide\"\n            >\n              <NavSearch\n                className={focused ? 'focused' : ''}\n                onFocus={handleInputFocus}\n                onBlur={handleInputBlur}\n              ></NavSearch>\n            </CSSTransition>\n            <i className={focused ? 'focused iconfont' : 'iconfont'}>&#xe637;</i>\n            {this.getListArea()}\n          </SearchWrapper>\n        </Nav>\n        <Addition>\n          <Button className=\"writing\">\n            <i className=\"iconfont\">&#xe6e5;</i>\n            写文章\n          </Button>\n          <Button className=\"reg\">注册</Button>\n        </Addition>\n      </HeaderWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    focused: state.getIn(['header','focused']),  //从header的store-reudcer里取；immutable用get\n    //focused: state.get('header').get('focused') \n    list: state.getIn(['header','list']),\n    page: state.getIn(['header','page'])\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleInputFocus() {\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.searchFocus());\n    },\n    handleInputBlur() {\n      dispatch(actionCreators.searchBlur());\n    },\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)"]},"metadata":{},"sourceType":"module"}